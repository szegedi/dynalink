<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0-u6-b01) on Fri Jul 20 14:24:45 PDT 2012 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>ChainedCallSite (Dynalink · Dynamic linking simplified for your language on the JVM. 0.3 API)</title>
<meta name="date" content="2012-07-20">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ChainedCallSite (Dynalink · Dynamic linking simplified for your language on the JVM. 0.3 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ChainedCallSite.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/dynalang/dynalink/CallSiteDescriptor.html" title="interface in org.dynalang.dynalink"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/dynalang/dynalink/DefaultBootstrapper.html" title="class in org.dynalang.dynalink"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/dynalang/dynalink/ChainedCallSite.html" target="_top">Frames</a></li>
<li><a href="ChainedCallSite.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.dynalang.dynalink</div>
<h2 title="Class ChainedCallSite" class="title">Class ChainedCallSite</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/7/docs/api/java/lang/invoke/CallSite.html?is-external=true" title="class or interface in java.lang.invoke">java.lang.invoke.CallSite</a></li>
<li>
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/7/docs/api/java/lang/invoke/MutableCallSite.html?is-external=true" title="class or interface in java.lang.invoke">java.lang.invoke.MutableCallSite</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../org/dynalang/dynalink/support/AbstractRelinkableCallSite.html" title="class in org.dynalang.dynalink.support">org.dynalang.dynalink.support.AbstractRelinkableCallSite</a></li>
<li>
<ul class="inheritance">
<li>org.dynalang.dynalink.ChainedCallSite</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../org/dynalang/dynalink/RelinkableCallSite.html" title="interface in org.dynalang.dynalink">RelinkableCallSite</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">ChainedCallSite</span>
extends <a href="../../../org/dynalang/dynalink/support/AbstractRelinkableCallSite.html" title="class in org.dynalang.dynalink.support">AbstractRelinkableCallSite</a></pre>
<div class="block">A relinkable call site that maintains a chain of linked method handles. In the default implementation, up to 8 method
 handles can be chained, cascading from one to the other through
 <a href="http://download.oracle.com/javase/7/docs/api/java/lang/invoke/MethodHandles.html?is-external=true#guardWithTest(java.lang.invoke.MethodHandle, java.lang.invoke.MethodHandle, java.lang.invoke.MethodHandle)" title="class or interface in java.lang.invoke"><code>MethodHandles.guardWithTest(MethodHandle, MethodHandle, MethodHandle)</code></a>. When this call site has to link a new
 method handle and the length of the chain is already at the maximum, it will throw away the oldest method handle.
 Switchpoint-invalidated handles in the chain are removed eagerly (on each linking request, and whenever a
 switchpoint-invalidated method handle is traversed during invocation). There is currently no profiling
 attached to the handles in the chain, so they are never reordered based on usage; the most recently linked method
 handle is always at the start of the chain.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../org/dynalang/dynalink/ChainedCallSite.html#ChainedCallSite(org.dynalang.dynalink.CallSiteDescriptor)">ChainedCallSite</a></strong>(<a href="../../../org/dynalang/dynalink/CallSiteDescriptor.html" title="interface in org.dynalang.dynalink">CallSiteDescriptor</a>&nbsp;descriptor)</code>
<div class="block">Creates a new chained call site.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../org/dynalang/dynalink/ChainedCallSite.html#getMaxChainLength()">getMaxChainLength</a></strong>()</code>
<div class="block">The maximum number of method handles in the chain.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/dynalang/dynalink/ChainedCallSite.html#setGuardedInvocation(org.dynalang.dynalink.linker.GuardedInvocation, java.lang.invoke.MethodHandle)">setGuardedInvocation</a></strong>(<a href="../../../org/dynalang/dynalink/linker/GuardedInvocation.html" title="class in org.dynalang.dynalink.linker">GuardedInvocation</a>&nbsp;invocation,
                    <a href="http://download.oracle.com/javase/7/docs/api/java/lang/invoke/MethodHandle.html?is-external=true" title="class or interface in java.lang.invoke">MethodHandle</a>&nbsp;relink)</code>
<div class="block">This method will be called once by the dynamic linker every time the call site is relinked.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.dynalang.dynalink.support.AbstractRelinkableCallSite">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.dynalang.dynalink.support.<a href="../../../org/dynalang/dynalink/support/AbstractRelinkableCallSite.html" title="class in org.dynalang.dynalink.support">AbstractRelinkableCallSite</a></h3>
<code><a href="../../../org/dynalang/dynalink/support/AbstractRelinkableCallSite.html#getDescriptor()">getDescriptor</a>, <a href="../../../org/dynalang/dynalink/support/AbstractRelinkableCallSite.html#setRelinkAndInvoke(java.lang.invoke.MethodHandle)">setRelinkAndInvoke</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.invoke.MutableCallSite">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.invoke.<a href="http://download.oracle.com/javase/7/docs/api/java/lang/invoke/MutableCallSite.html?is-external=true" title="class or interface in java.lang.invoke">MutableCallSite</a></h3>
<code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/invoke/MutableCallSite.html?is-external=true#dynamicInvoker()" title="class or interface in java.lang.invoke">dynamicInvoker</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/invoke/MutableCallSite.html?is-external=true#getTarget()" title="class or interface in java.lang.invoke">getTarget</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/invoke/MutableCallSite.html?is-external=true#setTarget(java.lang.invoke.MethodHandle)" title="class or interface in java.lang.invoke">setTarget</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/invoke/MutableCallSite.html?is-external=true#syncAll(java.lang.invoke.MutableCallSite[])" title="class or interface in java.lang.invoke">syncAll</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.invoke.CallSite">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.invoke.<a href="http://download.oracle.com/javase/7/docs/api/java/lang/invoke/CallSite.html?is-external=true" title="class or interface in java.lang.invoke">CallSite</a></h3>
<code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/invoke/CallSite.html?is-external=true#type()" title="class or interface in java.lang.invoke">type</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ChainedCallSite(org.dynalang.dynalink.CallSiteDescriptor)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ChainedCallSite</h4>
<pre>public&nbsp;ChainedCallSite(<a href="../../../org/dynalang/dynalink/CallSiteDescriptor.html" title="interface in org.dynalang.dynalink">CallSiteDescriptor</a>&nbsp;descriptor)</pre>
<div class="block">Creates a new chained call site.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>descriptor</code> - the descriptor for the call site.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getMaxChainLength()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxChainLength</h4>
<pre>protected&nbsp;int&nbsp;getMaxChainLength()</pre>
<div class="block">The maximum number of method handles in the chain. Defaults to 8. You can override it in a subclass if you need
 to change the value. If your override returns a value less than 1, the code will break.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the maximum number of method handles in the chain.</dd></dl>
</li>
</ul>
<a name="setGuardedInvocation(org.dynalang.dynalink.linker.GuardedInvocation, java.lang.invoke.MethodHandle)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setGuardedInvocation</h4>
<pre>public&nbsp;void&nbsp;setGuardedInvocation(<a href="../../../org/dynalang/dynalink/linker/GuardedInvocation.html" title="class in org.dynalang.dynalink.linker">GuardedInvocation</a>&nbsp;invocation,
                        <a href="http://download.oracle.com/javase/7/docs/api/java/lang/invoke/MethodHandle.html?is-external=true" title="class or interface in java.lang.invoke">MethodHandle</a>&nbsp;relink)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../org/dynalang/dynalink/RelinkableCallSite.html#setGuardedInvocation(org.dynalang.dynalink.linker.GuardedInvocation, java.lang.invoke.MethodHandle)">RelinkableCallSite</a></code></strong></div>
<div class="block">This method will be called once by the dynamic linker every time the call site is relinked.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>invocation</code> - the guarded invocation that the call site should set as its current target. Note that
 the call sites are allowed to keep other non-invalidated invocations around for implementation of polymorphic
 inline caches.</dd><dd><code>relink</code> - the fallback method. This is a method matching the method type of the call site that is supplied
 by the <a href="../../../org/dynalang/dynalink/DynamicLinker.html" title="class in org.dynalang.dynalink"><code>DynamicLinker</code></a> to be used by this call site as a fallback when it can't invoke its target with the
 passed arguments. The fallback method is such that when it's invoked, it'll try to discover the adequate target
 for the invocation, subsequently invoke <a href="../../../org/dynalang/dynalink/RelinkableCallSite.html#setGuardedInvocation(org.dynalang.dynalink.linker.GuardedInvocation, java.lang.invoke.MethodHandle)"><code>RelinkableCallSite.setGuardedInvocation(GuardedInvocation, MethodHandle)</code></a>, and
 finally invoke the target.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ChainedCallSite.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/dynalang/dynalink/CallSiteDescriptor.html" title="interface in org.dynalang.dynalink"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/dynalang/dynalink/DefaultBootstrapper.html" title="class in org.dynalang.dynalink"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/dynalang/dynalink/ChainedCallSite.html" target="_top">Frames</a></li>
<li><a href="ChainedCallSite.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2012 <a href="https://github.com/szegedi">Attila Szegedi</a>. All Rights Reserved.</small></p>
</body>
</html>
